<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiszki</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="wszystko">
        <div class="slowo_zagadka"><p>Kliknij "Kolejny" aby rozpocząć</p></div>
        <div><p style="display: none;" id="showhide"></p></div>
        <div class="guziki"><button onclick="f_showhide()">Pokaż</button><button onclick="f_kolejny()">Kolejny</button></div>
    </div>

    <script>
        const slowo_zagadka = document.querySelector(".slowo_zagadka")
        const slowo_odp = document.getElementById("showhide")
       
       
       // 1. fetchowanie danych
        let kanji

        fetch("https://jp-fiszki.github.io/kanji.json")
            .then(res => res.json())
            .then(json => {
                kanji = json;
            })
        
        
        // 2. pokazywanie i chowanie odpowiedzi
        function f_showhide() {
            var x = slowo_odp;
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }


        // 3. kolejne losowe pytanie
        function f_kolejny() {
            // 3a. wybór losowego pola w losowej linii
            let nr_linia = Math.floor(Math.random()*Object.keys(kanji).length)+1
            let nr_pole = Math.floor(Math.random()*3)+1
            console.log(nr_pole)
            // 3b. wyświetlenie wybranego slowo_zagadka
            slowo_zagadka.innerHTML = kanji[nr_linia][nr_pole]
            // 3c. wskazanie dwóch pozostałych pól w linii
            if (nr_pole == 1) {
                slowo_odp.innerText = String(kanji[nr_linia][2]+kanji[nr_linia][3])
            }
            else if (nr_pole == 2) {
                slowo_odp.innerText = String(kanji[nr_linia][1]+kanji[nr_linia][3])
            }
            else {
                slowo_odp.innerText = String(kanji[nr_linia][1]+kanji[nr_linia][2])
            }
            // 3d. schowanie slowo_odp
            slowo_odp.style.display = "none"
        }
    </script>
</body>
</html>